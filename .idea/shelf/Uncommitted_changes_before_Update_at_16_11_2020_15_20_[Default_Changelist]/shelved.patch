Index: LARQA/manifest.json
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{\r\n  \"description\": \"LAzy Request Analyzer\",\r\n  \"manifest_version\": 2,\r\n  \"name\": \"LARA\",\r\n  \"version\": \"1.0\",\r\n  \"background\": {\r\n    \"scripts\": [\r\n      \"background.js\",\r\n      \"jquery.min.js\"\r\n    ]\r\n  },\r\n  \"browser_action\": {\r\n    \"default_icon\": {\r\n      \"16\": \"icons/off.svg\",\r\n      \"24\": \"icons/off.svg\",\r\n      \"32\": \"icons/off.svg\"\r\n    }\r\n  },\r\n  \"permissions\": [\r\n    \"activeTab\",\r\n    \"tabs\"\r\n  ],\r\n  \"content_scripts\":\r\n  [\r\n    {\r\n      \"matches\":[\"https://cleantalk.org/\"],\r\n      \"js\":[\"jquery.min.js\"],\r\n      \"run_at\": \"document_start\"\r\n    }\r\n  ]\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/LARQA/manifest.json b/LARQA/manifest.json
--- a/LARQA/manifest.json	(revision 3a75dfc094f3b20925c3bb61d691c4d9e68d7dd1)
+++ b/LARQA/manifest.json	(date 1605463874334)
@@ -1,7 +1,7 @@
 {
   "description": "LAzy Request Analyzer",
   "manifest_version": 2,
-  "name": "LARA",
+  "name": "LARQA",
   "version": "1.0",
   "background": {
     "scripts": [
Index: LARQA/background.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>class Id {\r\n\r\n  constructor(\r\n      url,\r\n      value,\r\n      link_noc,\r\n      link_user\r\n  ) {\r\n    this.url = url;\r\n    this.value = value;\r\n    this.link_noc = link_noc;\r\n    this.link_user = link_user;\r\n  }\r\n\r\n  get_id_value_from_html() { // берёт request ID из массива HTML\r\n\r\n    let signature = `<div class=\"panel-heading\">Запрос `;\r\n\r\n    if (extracted_html.includes(signature)) {\r\n\r\n      let start_position = ((extracted_html.indexOf(signature) + (signature.length)))\r\n\r\n      this.value = (extracted_html.slice(start_position, (parseInt(start_position) + 32)));\r\n\r\n    } else\r\n\r\n      alert('id.value_init - not found')\r\n\r\n  } // берёт request ID из массива HTML\r\n\r\n  set_links() { // формирует ссылки на ПУ и на НОК\r\n\r\n    if (this.value) {\r\n\r\n      this.link_noc = 'https://cleantalk.org/noc/requests?request_id=' + this.value;\r\n\r\n      this.link_user = 'https://cleantalk.org/my/show_requests?request_id=' + this.value;\r\n\r\n    } else\r\n\r\n      alert('id.set_links - no data')\r\n\r\n  } //формирует ссылки на ПУ и на НОК\r\n\r\n  url_init() {\r\n  }\r\n}\r\n\r\nclass Status {\r\n  constructor(\r\n      agent,\r\n      isAllowed,\r\n      filters,\r\n      type\r\n  ) {\r\n    this.agent = agent;\r\n    this.isAllowed = isAllowed;\r\n    this.filters = filters;\r\n    this.type = type;\r\n  }\r\n\r\n  init() {\r\n\r\n    if (ct.details) {\r\n\r\n      //поиск агента\r\n\r\n      this.agent = ct.call_detail_value_by_name('ct_agent');\r\n\r\n      //поиск одобрен/нет\r\n\r\n      this.isAllowed = ct.call_detail_value_by_name('is_allowed');\r\n\r\n      //поиск типа запроса\r\n\r\n      switch (ct.call_detail_value_by_name('method_name')) {\r\n\r\n        case 'check_newuser':\r\n          this.type = \"registration\";\r\n          //TODO вот тут можно допилить условия для поиска комментария по comment_type\r\n          break;\r\n\r\n        case 'check_message':\r\n          this.type = \"comment or contact form\";\r\n\r\n          break;\r\n\r\n        default:\r\n          console.log('status.init - no method_name found');\r\n\r\n      }\r\n\r\n      this.type = ct.call_detail_value_by_name('is_allowed');\r\n\r\n    } else console.log('ct.details - details block not found');\r\n\r\n\r\n    // поиск значения фильров - тот ещё неморрой\r\n    let signature = `\"Добавить в произвольный блок\"></span>&nbsp;</td>`;\r\n\r\n    let filters_section = html_get_section('filters');\r\n\r\n    let start_sec = filters_section.indexOf(signature) + 49;\r\n\r\n    let end_sec = null;\r\n\r\n    for (let i = start_sec + 1; i <= filters_section.length; i++) {\r\n\r\n      if ((filters_section.slice(i, i + 2)) === 'R:') {\r\n\r\n        end_sec = i; // конечная позиция определена\r\n\r\n        break;\r\n      }\r\n    }\r\n\r\n    this.filters = (filters_section.slice(start_sec, end_sec));\r\n\r\n    for (let i = 0; i <= this.filters.length; i++) {\r\n\r\n      if (this.filters.slice(i, i + 4) === '<td>') {\r\n\r\n        this.filters = this.filters.slice(0, i) + this.filters.slice(i + 4, this.filters.length)\r\n\r\n        i--;\r\n\r\n      }\r\n\r\n      if (this.filters.slice(i, i + 6) === '&nbsp;') {\r\n\r\n        this.filters = this.filters.slice(0, i) + this.filters.slice(i + 6, this.filters.length)\r\n\r\n        i--;\r\n      }\r\n\r\n      if (this.filters.slice(i, i + 5) === '</td>') {\r\n\r\n        this.filters = this.filters.slice(0, i) + this.filters.slice(i + 5, this.filters.length)\r\n\r\n        i--;\r\n      }\r\n\r\n      if (this.filters.slice(i, i + 32) === '<a href=\"#\" class=\"edit_filter\">') {\r\n\r\n        this.filters = this.filters.slice(0, i) + this.filters.slice(i + 32, this.filters.length);\r\n\r\n        i--;\r\n      }\r\n\r\n      if (this.filters.slice(i, i + 4) === '</a>') {\r\n\r\n        this.filters = this.filters.slice(0, i) + this.filters.slice(i + 4, this.filters.length);\r\n\r\n        i--;\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\nclass Detail {\r\n\r\n  constructor(\r\n      name,\r\n      block_id,\r\n      signature,\r\n      value,\r\n      css_id,\r\n      section_id\r\n  ) {\r\n\r\n    //Init class\r\n    this.name = name;\r\n    this.block_id = block_id;\r\n    this.signature = signature;\r\n    this.value = value;\r\n    this.css_id = css_id;\r\n    this.section_id = section_id;\r\n\r\n  }\r\n\r\n}\r\n\r\nclass CT {\r\n  constructor(\r\n      id,\r\n      status,\r\n      details,\r\n      options,\r\n      analysis\r\n  ) {\r\n    this.id = id; // class Id\r\n    this.status = status; // class Status\r\n    this.details = details; // array of class Detail\r\n    this.options = options; //array of class Option\r\n    this.analysis = analysis;\r\n  }\r\n\r\n  set_details_signature_data() { // Установка данных для поиска\r\n\r\n    let values = [\r\n      // имя параметра, номер блока, сигнатура, РЕЗЕРВ, стиль, где искать\r\n      ['sender_email', '0', '<td>email&nbsp;</td>', '', 'default', 'sender'],\r\n      ['sender_email_is_bl', '0', '<td>email_in_list&nbsp;</td>', '', 'default', 'details'],\r\n      ['sender_email_is_sc', '0', '<td>short_cache_email&nbsp;</td>', '', 'default', 'details'],\r\n      ['sender_email_is_disp', '0', '<td>mail_domain_one_raz&nbsp;</td>', '', 'default', 'details'],\r\n      ['sender_ip', '1', '<td>ip&nbsp;</td>', '', 'default', 'sender'],\r\n      ['sender_ip_is_bl', '1', '<td>ip_in_list&nbsp;</td>', '', 'default', 'details'],\r\n      ['sender_ip_is_sc', '1', '<td>short_cache_ip&nbsp;</td>', '', 'default', 'details'],\r\n      ['ct_options', '2', '<td>ct_options&nbsp;</td>', '', 'default', 'sender'],\r\n      ['ct_agent', '3', '<td>agent&nbsp;</td>', '', 'default', 'params'],\r\n      ['js_status', '4', '<td>js_on&nbsp;</td>', '', 'default', 'params'],\r\n      ['submit_time', '4', '<td>submit_time&nbsp;</td>', '', 'default', 'params'],\r\n      ['cookies_enabled', '4', '<td>cookies_enabled&nbsp;</td>', '', 'default', 'sender'],\r\n      ['page_referrer', '4', '<td>REFFERRER&nbsp;</td>', '', 'default', 'sender'],\r\n      ['page_pre_referrer', '4', '<td>REFFERRER_PREVIOUS&nbsp;</td>', '', 'default', 'sender'],\r\n      ['page_url', '4', '<td>page_url&nbsp;</td>', '', 'default', 'sender'],\r\n      ['sender_url', '4', '<td>sender_url&nbsp;</td>', '', 'default', 'sender'],\r\n      ['comment_type', '4', '<td>comment_type&nbsp;</td>', '', 'default', 'sender'],\r\n      ['hook_type', '4', '<td>hook&nbsp;</td>', '', 'default', 'sender'],\r\n      ['is_greylisted', '4', '<td>grey_list_stop&nbsp;</td>', '', 'default', 'details'],\r\n      ['is_mobile_ua', '4', '<td>is_mobile_UA&nbsp;</td>', '', 'default', 'details'],\r\n      ['links_detected', '4', '<td>links&nbsp;</td>', '', 'default', 'details'],\r\n      ['allowed_by_pl', '4', '<td>private_list_allow&nbsp;</td>', '', 'default', 'details'],\r\n      ['denied_by_pl', '4', '<td>private_list_deny&nbsp;</td>', '', 'default', 'details'],\r\n      ['pl_has_records', '4', '<td>private_list_detected&nbsp;</td>', '', 'default', 'details'],\r\n      ['is_allowed', '4', '<td>allow&nbsp;</td>', '', 'default', 'response'],\r\n      ['method_name', '4', '<td>method_name&nbsp;</td>', '', 'default', 'details']\r\n    ];\r\n\r\n    let length = (values.length); //длина массива данных для поиска определена\r\n\r\n    return [values, length]\r\n\r\n\r\n  }// ДАННЫЕ!! Установка данных для поиска\r\n\r\n  construct_details_block_html() { //конструирует блоки основываясь на Section ID из\r\n\r\n    let ar = [];\r\n\r\n    for (let j = 0; j < detail_array_length; j++) {\r\n      ar.push(parseInt(this.details[j].block_id));\r\n    }\r\n\r\n    let number_of_blocks = Math.max.apply(null, ar) + 1; //колчество блоков определено\r\n\r\n    for (let block_id = 0; block_id !== number_of_blocks; block_id++) {\r\n\r\n      html_add_tag_to_window('details_table-tbody', 'beforeend', ('<tr id=\"details_tier_block_' + block_id + '\">SECTION ' + block_id + '</tr>'));\r\n\r\n      for (let i = 0; i < detail_array_length - 1; i++) { //добавление строк\r\n\r\n        if (stringcounter <= i) { //хуй знает как это работает и почему без этого не работает\r\n\r\n          if (parseInt(this.details[stringcounter].block_id) === block_id) { // добавляем строки если block_id совпал\r\n            stringcounter++;\r\n\r\n            if (this.details[stringcounter].name !== 'ct_options') {\r\n\r\n              html_add_tag_to_window('details_table-tbody', 'beforeend', ('<tr id=\"details_tier_' + stringcounter + '\"></tr>'));\r\n\r\n              html_add_tag_to_window(('details_tier_' + stringcounter), 'beforeend', ('<td class=\"details-name\">' + this.details[stringcounter].name + ':</td>'));\r\n\r\n              html_add_tag_to_window(('details_tier_' + stringcounter), 'beforeend', ('<td class=\"details-value\">' + this.details[stringcounter].value + '</td>'));\r\n\r\n            }\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n  }//конструирует блоки основываясь на Section ID из set_details_signature_data\r\n\r\n  construct_options_block_html() { //конструирует блоки основываясь на Section ID из\r\n\r\n    stringcounter = 0;\r\n\r\n    html_add_tag_to_window('options_table-tbody', 'beforeend', ('<tr id=\"options_tier_block></tr>'));\r\n\r\n    for (let i = 0; i < this.options.length; i++) { //добавление строк\r\n\r\n      if (stringcounter <= i) { //хуй знает как это работает и почему без этого не работает\r\n\r\n        html_add_tag_to_window('options_table-tbody', 'beforeend', ('<tr id=\"options_tier_' + stringcounter + '\"></tr>'));\r\n\r\n        html_add_tag_to_window(('options_tier_' + stringcounter), 'beforeend', ('<td class=\"options-name\">' + this.options[stringcounter].name + ':</td>'));\r\n\r\n        html_add_tag_to_window(('options_tier_' + stringcounter), 'beforeend', ('<td class=\"options-value\">' + this.options[stringcounter].value + '</td>'));\r\n\r\n        stringcounter++;\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n  set_values_to_details_array() { // Внесение результатов поиcка values в массив объектов Details TODO Убрать нахуй\r\n\r\n    console.log('Функция заполнения values для маccива Details начала работать');\r\n    for (let i = 0; i < detail_array_length; i++) {\r\n\r\n      this.details[i].value = get_detail_value(this.details[i].section_id, this.details[i].signature);\r\n\r\n    }\r\n    console.log('Функция заполнения values для маccива Details закончила работать');\r\n\r\n  } // вносит результатов поиска values в массив объектов Details\r\n\r\n  init_details_array() { //создаёт объекты Details в массиве (без values) на основе set_details_signature_data\r\n\r\n    console.log('Создание массива Details началось');\r\n\r\n    this.details = [];\r\n\r\n    let values = this.set_details_signature_data()[0];\r\n\r\n    for (let i = 0; i < detail_array_length; i++) {\r\n\r\n      this.details.push(new Detail((values[i][0]), (values[i][1]), (values[i][2]), (values[i][3]), (values[i][4]), (values[i][5])));\r\n\r\n    }\r\n\r\n    this.set_values_to_details_array();\r\n\r\n    console.log('Создание массива Details закончено.');\r\n\r\n  } \t\t\t//создаёт объекты Details в массиве (без values)\r\n\r\n  init_options_array() { \t\t\t\t//создаёт объекты Option в массиве ct.options\r\n\r\n    console.log('Началась инициация массива Options');\r\n\r\n    this.options = get_options_from_json(this.call_detail_value_by_name(\"ct_options\"));\r\n\r\n    console.log('Закончена инициация массива Options');\r\n\r\n  }\t\t\t//создаёт объекты Option в массиве ct.options\r\n\r\n  call_detail_value_by_name(name) { \t//вызывает значения value объекта Detail по имени\r\n\r\n    for (let i = 0; i < detail_array_length; i++) {\r\n\r\n      if (this.details[i].name === name) {\r\n\r\n        return this.details[i].value\r\n      }\r\n\r\n    }\r\n\r\n  } //вызывает значения value объекта Detail по имени\r\n\r\n}\r\n\r\nclass Option {\r\n\r\n  constructor(\r\n      name,\r\n      value,\r\n      priority,\r\n  ) {\r\n\r\n    //Init class\r\n    this.name = name;\r\n    this.value = value;\r\n    this.priority = priority;\r\n\r\n  }\r\n\r\n}\r\n\r\nclass Analysis{\r\n\r\n  constructor(\r\n\r\n      options_default,\r\n      options_important,\r\n      details_normal_values\r\n\r\n  ) {\r\n\r\n    this.options_default = options_default;\r\n    this.details_normal_values = details_normal_values;\r\n  }\r\n\r\n  set_options_default() { \t\t\t//устанавлвает опций по умолчанию\r\n\r\n    this.options_default = { // объект опций\r\n      wordpress: '',\r\n      drupal: '',\r\n      joomla: '',\r\n\r\n    }\r\n\r\n    //берёт массив опций из JSON\r\n\r\n    this.options_default.wordpress = get_options_from_json('{\"spam_firewall\":\"1\",\"sfw__anti_flood\":\"0\",\"sfw__anti_flood__view_limit\":\"10\",\"sfw__anti_crawler\":\"0\",\"apikey\":\"pyme7anenuha\",\"autoPubRevelantMess\":\"0\",\"registrations_test\":\"1\",\"comments_test\":\"1\",\"contact_forms_test\":\"1\",\"general_contact_forms_test\":\"1\",\"wc_checkout_test\":\"1\",\"wc_register_from_order\":\"1\",\"search_test\":\"1\",\"check_external\":\"0\",\"check_external__capture_buffer\":\"0\",\"check_internal\":\"0\",\"disable_comments__all\":\"0\",\"disable_comments__posts\":\"0\",\"disable_comments__pages\":\"0\",\"disable_comments__media\":\"0\",\"bp_private_messages\":\"1\",\"check_comments_number\":\"1\",\"remove_old_spam\":\"0\",\"remove_comments_links\":\"0\",\"show_check_links\":\"1\",\"manage_comments_on_public_page\":\"0\",\"protect_logged_in\":\"1\",\"use_ajax\":\"1\",\"use_static_js_key\":\"-1\",\"general_postdata_test\":\"0\",\"set_cookies\":\"1\",\"set_cookies__sessions\":\"0\",\"ssl_on\":\"0\",\"use_buitin_http_api\":\"1\",\"exclusions__urls\":\"\",\"exclusions__urls__use_regexp\":\"0\",\"exclusions__fields\":\"\",\"exclusions__fields__use_regexp\":\"0\",\"exclusions__roles\":[\"Administrator\"],\"show_adminbar\":\"1\",\"all_time_counter\":\"0\",\"daily_counter\":\"0\",\"sfw_counter\":\"0\",\"user_token\":\"\",\"collect_details\":\"0\",\"send_connection_reports\":\"0\",\"async_js\":\"0\",\"debug_ajax\":\"0\",\"gdpr_enabled\":\"0\",\"gdpr_text\":\"\",\"store_urls\":\"1\",\"store_urls__sessions\":\"1\",\"comment_notify\":\"1\",\"comment_notify__roles\":[],\"complete_deactivation\":\"0\",\"dashboard_widget__show\":\"1\",\"allow_custom_key\":\"0\",\"allow_custom_settings\":\"0\",\"white_label\":\"0\",\"white_label__hoster_key\":\"\",\"white_label__plugin_name\":\"\",\"use_settings_template\":\"0\",\"use_settings_template_apply_for_new\":\"0\",\"use_settings_template_apply_for_current\":\"0\",\"use_settings_template_apply_for_current_list_sites\":\"\"}');\r\n\r\n  }\r\n\r\n  set_details_normal_values(){\r\n\r\n  }\r\n\r\n  check_options_comparison(def_options_agent){\r\n\r\n    let array = [];\r\n\r\n    if (def_options_agent.length === ct.options.length ){\r\n\r\n      for (let i=0; i<=def_options_agent.length - 1; i++){\r\n\r\n        let x = def_options_agent[i].value.toString()\r\n\r\n        let y = ct.options[i].value.toString();\r\n\r\n        if (x !== y){\r\n\r\n          console.log('Изменены опции: '\r\n              + def_options_agent[i].name + ' :'\r\n              + x + ' '\r\n              + y);\r\n\r\n          array.push(i);\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\telse alert('Количество опций не совпало. Проверь агента. def_options_agent.length = ' + def_options_agent.length + 'ct.options.length = '+ ct.options.length);\r\n\r\n    array.forEach(function(value){\r\n\r\n      let tr_name = ('options_tier_'+value);\r\n\r\n      layout_window.document.getElementById(tr_name).style.color = '#FF0000';\r\n\r\n    })\r\n\r\n    layout_window.document.getElementById('options_header').innerHTML += ('<a style = \"color: red\"> (' + array.length + ')</a>');\r\n\r\n    return array;\r\n\r\n  }\r\n\r\n  check_options(){\r\n\r\n    console.log('Проверка опций по умолчанию началась...');\r\n\r\n    switch (ct.status.agent){\t\t// Выбор параметров по умолчанию по агенту\r\n\r\n      case 'wordpress-51471': {\r\n\r\n        this.check_options_comparison(this.options_default.wordpress);\r\n\r\n      }\r\n\r\n      case 'wordpress-5148': {\r\n\r\n        this.check_options_comparison(this.options_default.wordpress);\r\n\r\n      }\r\n\r\n    }\r\n\r\n    console.log('Проверка опций по умолчанию завершена.');\r\n\r\n\r\n  }\r\n\r\n  check_details(){\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n//==== TEST BLOCK\r\n\r\n//==== TEST BLOCK END\r\n\r\n//==== DECLARE BLOCK\r\n\r\nlet extracted_html;\r\n\r\nlet ct = new CT();\r\n\r\nct.id = new Id();\r\n\r\nct.status = new Status();\r\n\r\nct.analysis = new Analysis();\r\n\r\ndetail_array_length = ct.set_details_signature_data()[1]; // объявляем длину массива объектов Details\r\n\r\n\r\n//==== DECLARE BLOCK END\r\n\r\n//==== NON CLASS FUNCTIONS\r\n\r\n\r\n\r\nfunction html_get_section(section_name) { //извлекает html секции по Details.section_id\r\n\r\n  let signature = `<div class=\"section_block\" data-section=\"` + section_name + `\">`; // подпись берём из параметра функции\r\n\r\n  let start_sec = extracted_html.indexOf(signature);// начальная позиция определена\r\n\r\n  let end_sec = null;\r\n\r\n  for (let i = start_sec + 1; i <= extracted_html.length; i++) {\r\n\r\n    if ((extracted_html.slice(i, i + 40)) === '<div class=\"section_block\" data-section=') {\r\n\r\n      end_sec = i; // конечная позиция определена\r\n\r\n      break;\r\n\r\n    }\r\n\r\n  }\r\n\r\n  return extracted_html.slice(start_sec, end_sec);\r\n\r\n} \t//извлекает html секции по Details.section_id\r\n\r\nfunction get_detail_value(section_id, signature) { //ищет Detail.value по Detail.signature внутри секции Details.section_id\r\n\r\n  let html_section = html_get_section(section_id); // секция определена\r\n\r\n  let start_value_position;\r\n\r\n  let end_value_position;\r\n\r\n  if (html_section.includes(signature)) { // 11- это символы <td>:&nbsp;\r\n\r\n    start_value_position = (html_section.indexOf(signature) + signature.length + 11); //стартовая позиция для искомого значения\r\n\r\n  } else {\r\n\r\n    return 'Вхождение не найдено';\r\n\r\n  }\r\n\r\n  for (let i = start_value_position; i <= html_section.length; i++) {\r\n\r\n    if ((html_section.slice(i, i + 5)) === '</td>') {\r\n      end_value_position = i; //конечная позиция определена\r\n      break;\r\n    }\r\n  }\r\n\r\n  return html_section.slice(start_value_position, end_value_position);\r\n\r\n} \t//ищет Detail.value по Detail.signature внутри секции Details.section_id\r\n\r\nfunction html_add_tag_to_window(position_tag_id, align, html) {\r\n  //console.log('TAG COUNSTRUCTS... POS ' + position_tag_id + ' ALGN ' + align + ' HTML ' + html);\r\n  layout_window.document.getElementById(position_tag_id).insertAdjacentHTML(align, html);\r\n\r\n} //добавляет тег\r\n\r\nfunction get_options_from_json (json){ //возвращает массив объектов OPTION из JSON настроек\r\n\r\n  let jsonobj = JSON.parse(json);\r\n\r\n  let temp = [];\r\n\r\n  $.each(jsonobj, function (name, value) {\r\n\r\n    temp.push(new Option(name, value, 0))\r\n\r\n  })\r\n\r\n  return temp;\r\n\r\n} //извлекает массив опций из JSON\r\n\r\nfunction call_layout_window() { //вызов окна запроса\r\n\r\n\r\n  window.layout_window = window.open( // собственно основное окно\r\n      'prefilled.html',\r\n      'LARQA window',\r\n      'left=50, ' +\r\n      'top=50, ' +\r\n      'width=1200, ' +\r\n      'height=800, ' +\r\n      'status=no, ' +\r\n      'toolbar=no, ' +\r\n      'location=no');\r\n\r\n  layout_window.onload = function () { // действия после загрузки окна\r\n\r\n    ct.init_details_array();\r\n\r\n    ct.init_options_array();\r\n\r\n    ct.status.init();\r\n\r\n    ct.analysis.set_options_default();\r\n\r\n    window.stringcounter = 0; //счётчик строк в таблице\r\n\r\n    ct.construct_details_block_html(); //собираю таблицу details\r\n\r\n    ct.construct_options_block_html(); // собираю таблицу options\r\n\r\n    ct.analysis.check_options();\r\n\r\n  }//вызов окна запроса\r\n\r\n} //вызов рабочего окна\r\n\r\nchrome.runtime.onMessage.addListener(function (message) {\r\n  switch (message.command) {\r\n    case \"pageHtml\":\r\n\r\n      console.log('Бэкграунд начал работу..');\r\n\r\n      console.log(message.html)\r\n\r\n      extracted_html = message.html;\r\n\r\n      call_layout_window();\r\n\r\n      console.log('Бэкграунд закончил работу.');\r\n\r\n\r\n      break;\r\n  \r\n    default:\r\n      break;\r\n  }\r\n})\r\n\r\nfunction logHtmlCode(tab)\r\n{\r\n  chrome.tabs.executeScript(tab.id, { file: \"send-page-code.js\" });\r\n}\r\n\r\nchrome.browserAction.onClicked.addListener(logHtmlCode);\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/LARQA/background.js b/LARQA/background.js
--- a/LARQA/background.js	(revision 3a75dfc094f3b20925c3bb61d691c4d9e68d7dd1)
+++ b/LARQA/background.js	(date 1605465461718)
@@ -1,483 +1,489 @@
 class Id {
 
-  constructor(
-      url,
-      value,
-      link_noc,
-      link_user
-  ) {
-    this.url = url;
-    this.value = value;
-    this.link_noc = link_noc;
-    this.link_user = link_user;
-  }
+	constructor(
+		url,
+		value,
+		link_noc,
+		link_user
+	) {
+		this.url = url;
+		this.value = value;
+		this.link_noc = link_noc;
+		this.link_user = link_user;
+	}
 
-  get_id_value_from_html() { // берёт request ID из массива HTML
+	init_id() { // берёт request ID из массива HTML
 
-    let signature = `<div class="panel-heading">Запрос `;
+		let signature = `<div class="panel-heading">Запрос `;
 
-    if (extracted_html.includes(signature)) {
+		if (extracted_html.includes(signature)) {
 
-      let start_position = ((extracted_html.indexOf(signature) + (signature.length)))
+			let start_position = ((extracted_html.indexOf(signature) + (signature.length)))
 
-      this.value = (extracted_html.slice(start_position, (parseInt(start_position) + 32)));
+			this.value = (extracted_html.slice(start_position, (parseInt(start_position) + 32)));
 
-    } else
+		} else
 
-      alert('id.value_init - not found')
+			alert('id.value_init - not found')
 
-  } // берёт request ID из массива HTML
+	} // берёт request ID из массива HTML
 
-  set_links() { // формирует ссылки на ПУ и на НОК
+	set_links() { // формирует ссылки на ПУ и на НОК
 
-    if (this.value) {
+		if (this.value) {
 
-      this.link_noc = 'https://cleantalk.org/noc/requests?request_id=' + this.value;
+			this.link_noc = 'https://cleantalk.org/noc/requests?request_id=' + this.value;
 
-      this.link_user = 'https://cleantalk.org/my/show_requests?request_id=' + this.value;
+			this.link_user = 'https://cleantalk.org/my/show_requests?request_id=' + this.value;
 
-    } else
+		} else
 
-      alert('id.set_links - no data')
+			alert('id.set_links - no data')
 
-  } //формирует ссылки на ПУ и на НОК
+	} //формирует ссылки на ПУ и на НОК
 
-  url_init() {
-  }
+	url_init() {
+	}
 }
 
 class Status {
-  constructor(
-      agent,
-      isAllowed,
-      filters,
-      type
-  ) {
-    this.agent = agent;
-    this.isAllowed = isAllowed;
-    this.filters = filters;
-    this.type = type;
-  }
+	constructor(
+		agent,
+		isAllowed,
+		filters,
+		type
+	) {
+		this.agent = agent;
+		this.isAllowed = isAllowed;
+		this.filters = filters;
+		this.type = type;
+	}
 
-  init() {
+	init() {
 
-    if (ct.details) {
+		if (ct.details) {
 
-      //поиск агента
+			//поиск агента
 
-      this.agent = ct.call_detail_value_by_name('ct_agent');
+			this.agent = ct.get_detail_value('ct_agent');
 
-      //поиск одобрен/нет
+			//поиск одобрен/нет
 
-      this.isAllowed = ct.call_detail_value_by_name('is_allowed');
+			this.isAllowed = ct.get_detail_value('is_allowed');
 
-      //поиск типа запроса
+			//поиск типа запроса
 
-      switch (ct.call_detail_value_by_name('method_name')) {
+			switch (ct.get_detail_value('method_name')) {
 
-        case 'check_newuser':
-          this.type = "registration";
-          //TODO вот тут можно допилить условия для поиска комментария по comment_type
-          break;
+				case 'check_newuser':
+					this.type = "registration";
+					//TODO вот тут можно допилить условия для поиска комментария по comment_type
+					break;
 
-        case 'check_message':
-          this.type = "comment or contact form";
+				case 'check_message':
+					this.type = "comment or contact form";
 
-          break;
+					break;
 
-        default:
-          console.log('status.init - no method_name found');
+				default:
+					console.log('status.init - no method_name found');
 
-      }
+			}
 
-      this.type = ct.call_detail_value_by_name('is_allowed');
+			this.isAllowed = ct.get_detail_value('is_allowed');
 
-    } else console.log('ct.details - details block not found');
+		} else console.log('ct.details - details block not found');
 
 
-    // поиск значения фильров - тот ещё неморрой
-    let signature = `"Добавить в произвольный блок"></span>&nbsp;</td>`;
+		// поиск значения фильров - тот ещё геморрой
+
+		let signature = `"Добавить в произвольный блок"></span>&nbsp;</td>`;
 
-    let filters_section = html_get_section('filters');
+		let filters_section = html_get_section('filters');
 
-    let start_sec = filters_section.indexOf(signature) + 49;
+		let start_fs = filters_section.indexOf(signature) + 49;
 
-    let end_sec = null;
+		let end_fs = null;
 
-    for (let i = start_sec + 1; i <= filters_section.length; i++) {
+		for (let i = start_fs + 1; i <= filters_section.length; i++) {
 
-      if ((filters_section.slice(i, i + 2)) === 'R:') {
+			if ((filters_section.slice(i, i + 2)) === 'R:') {
 
-        end_sec = i; // конечная позиция определена
+				end_fs = i; // конечная позиция определена
 
-        break;
-      }
-    }
+				break;
+			}
+		}
 
-    this.filters = (filters_section.slice(start_sec, end_sec));
+		this.filters = (filters_section.slice(start_fs, end_fs)); // отрезает строку филтьтров
 
-    for (let i = 0; i <= this.filters.length; i++) {
+		for (let i = 0; i <= this.filters.length; i++) { //удаляет форматирование, оставляет только ффильтр и значение
 
-      if (this.filters.slice(i, i + 4) === '<td>') {
+			if (this.filters.slice(i, i + 4) === '<td>') {
 
-        this.filters = this.filters.slice(0, i) + this.filters.slice(i + 4, this.filters.length)
+				this.filters = this.filters.slice(0, i) + this.filters.slice(i + 4, this.filters.length)
 
-        i--;
+				i--;
 
-      }
+			}
 
-      if (this.filters.slice(i, i + 6) === '&nbsp;') {
+			if (this.filters.slice(i, i + 6) === '&nbsp;') {
 
-        this.filters = this.filters.slice(0, i) + this.filters.slice(i + 6, this.filters.length)
+				this.filters = this.filters.slice(0, i) + this.filters.slice(i + 6, this.filters.length)
 
-        i--;
-      }
+				i--;
+			}
 
-      if (this.filters.slice(i, i + 5) === '</td>') {
+			if (this.filters.slice(i, i + 5) === '</td>') {
 
-        this.filters = this.filters.slice(0, i) + this.filters.slice(i + 5, this.filters.length)
+				this.filters = this.filters.slice(0, i) + this.filters.slice(i + 5, this.filters.length)
 
-        i--;
-      }
+				i--;
+			}
 
-      if (this.filters.slice(i, i + 32) === '<a href="#" class="edit_filter">') {
+			if (this.filters.slice(i, i + 32) === '<a href="#" class="edit_filter">') {
 
-        this.filters = this.filters.slice(0, i) + this.filters.slice(i + 32, this.filters.length);
+				this.filters = this.filters.slice(0, i) + this.filters.slice(i + 32, this.filters.length);
 
-        i--;
-      }
+				i--;
+			}
 
-      if (this.filters.slice(i, i + 4) === '</a>') {
+			if (this.filters.slice(i, i + 4) === '</a>') {
 
-        this.filters = this.filters.slice(0, i) + this.filters.slice(i + 4, this.filters.length);
+				this.filters = this.filters.slice(0, i) + this.filters.slice(i + 4, this.filters.length);
 
-        i--;
-      }
+				i--;
+			}
 
-    }
+		} //удаляет форматирование, оставляет только ффильтр и значение
 
-  }
+	}
 
 }
 
 class Detail {
 
-  constructor(
-      name,
-      block_id,
-      signature,
-      value,
-      css_id,
-      section_id
-  ) {
+	constructor(
+
+		name,
+		block_id,
+		signature,
+		value,
+		css_id,
+		section_id
+
+	) {
 
-    //Init class
-    this.name = name;
-    this.block_id = block_id;
-    this.signature = signature;
-    this.value = value;
-    this.css_id = css_id;
-    this.section_id = section_id;
+		//Init class
+		this.name = name;
+		this.block_id = block_id;
+		this.signature = signature;
+		this.value = value;
+		this.css_id = css_id;
+		this.section_id = section_id;
 
-  }
+	}
 
 }
 
 class CT {
-  constructor(
-      id,
-      status,
-      details,
-      options,
-      analysis
-  ) {
-    this.id = id; // class Id
-    this.status = status; // class Status
-    this.details = details; // array of class Detail
-    this.options = options; //array of class Option
-    this.analysis = analysis;
-  }
+
+	constructor(
+
+		id,
+		status,
+		details,
+		options,
+		analysis
+
+	) {
+		this.id = id; // class Id
+		this.status = status; // class Status
+		this.details = details; // array of class Detail
+		this.options = options; //array of class Option
+		this.analysis = analysis;
+	}
 
-  set_details_signature_data() { // Установка данных для поиска
+	set_details_signature_data() { // Установка данных для поиска
 
-    let values = [
-      // имя параметра, номер блока, сигнатура, РЕЗЕРВ, стиль, где искать
-      ['sender_email', '0', '<td>email&nbsp;</td>', '', 'default', 'sender'],
-      ['sender_email_is_bl', '0', '<td>email_in_list&nbsp;</td>', '', 'default', 'details'],
-      ['sender_email_is_sc', '0', '<td>short_cache_email&nbsp;</td>', '', 'default', 'details'],
-      ['sender_email_is_disp', '0', '<td>mail_domain_one_raz&nbsp;</td>', '', 'default', 'details'],
-      ['sender_ip', '1', '<td>ip&nbsp;</td>', '', 'default', 'sender'],
-      ['sender_ip_is_bl', '1', '<td>ip_in_list&nbsp;</td>', '', 'default', 'details'],
-      ['sender_ip_is_sc', '1', '<td>short_cache_ip&nbsp;</td>', '', 'default', 'details'],
-      ['ct_options', '2', '<td>ct_options&nbsp;</td>', '', 'default', 'sender'],
-      ['ct_agent', '3', '<td>agent&nbsp;</td>', '', 'default', 'params'],
-      ['js_status', '4', '<td>js_on&nbsp;</td>', '', 'default', 'params'],
-      ['submit_time', '4', '<td>submit_time&nbsp;</td>', '', 'default', 'params'],
-      ['cookies_enabled', '4', '<td>cookies_enabled&nbsp;</td>', '', 'default', 'sender'],
-      ['page_referrer', '4', '<td>REFFERRER&nbsp;</td>', '', 'default', 'sender'],
-      ['page_pre_referrer', '4', '<td>REFFERRER_PREVIOUS&nbsp;</td>', '', 'default', 'sender'],
-      ['page_url', '4', '<td>page_url&nbsp;</td>', '', 'default', 'sender'],
-      ['sender_url', '4', '<td>sender_url&nbsp;</td>', '', 'default', 'sender'],
-      ['comment_type', '4', '<td>comment_type&nbsp;</td>', '', 'default', 'sender'],
-      ['hook_type', '4', '<td>hook&nbsp;</td>', '', 'default', 'sender'],
-      ['is_greylisted', '4', '<td>grey_list_stop&nbsp;</td>', '', 'default', 'details'],
-      ['is_mobile_ua', '4', '<td>is_mobile_UA&nbsp;</td>', '', 'default', 'details'],
-      ['links_detected', '4', '<td>links&nbsp;</td>', '', 'default', 'details'],
-      ['allowed_by_pl', '4', '<td>private_list_allow&nbsp;</td>', '', 'default', 'details'],
-      ['denied_by_pl', '4', '<td>private_list_deny&nbsp;</td>', '', 'default', 'details'],
-      ['pl_has_records', '4', '<td>private_list_detected&nbsp;</td>', '', 'default', 'details'],
-      ['is_allowed', '4', '<td>allow&nbsp;</td>', '', 'default', 'response'],
-      ['method_name', '4', '<td>method_name&nbsp;</td>', '', 'default', 'details']
-    ];
+		let values = [
+			// имя параметра, номер блока, сигнатура, РЕЗЕРВ, стиль, где искать
+			['sender_email', '0', '<td>email&nbsp;</td>', '', 'default', 'sender'],
+			['sender_email_is_bl', '0', '<td>email_in_list&nbsp;</td>', '', 'default', 'details'],
+			['sender_email_is_sc', '0', '<td>short_cache_email&nbsp;</td>', '', 'default', 'details'],
+			['sender_email_is_disp', '0', '<td>mail_domain_one_raz&nbsp;</td>', '', 'default', 'details'],
+			['sender_ip', '1', '<td>ip&nbsp;</td>', '', 'default', 'sender'],
+			['sender_ip_is_bl', '1', '<td>ip_in_list&nbsp;</td>', '', 'default', 'details'],
+			['sender_ip_is_sc', '1', '<td>short_cache_ip&nbsp;</td>', '', 'default', 'details'],
+			['ct_options', '2', '<td>ct_options&nbsp;</td>', '', 'default', 'sender'],
+			['ct_agent', '3', '<td>agent&nbsp;</td>', '', 'default', 'params'],
+			['js_status', '4', '<td>js_on&nbsp;</td>', '', 'default', 'params'],
+			['submit_time', '4', '<td>submit_time&nbsp;</td>', '', 'default', 'params'],
+			['cookies_enabled', '4', '<td>cookies_enabled&nbsp;</td>', '', 'default', 'sender'],
+			['page_referrer', '4', '<td>REFFERRER&nbsp;</td>', '', 'default', 'sender'],
+			['page_pre_referrer', '4', '<td>REFFERRER_PREVIOUS&nbsp;</td>', '', 'default', 'sender'],
+			['page_url', '4', '<td>page_url&nbsp;</td>', '', 'default', 'sender'],
+			['sender_url', '4', '<td>sender_url&nbsp;</td>', '', 'default', 'sender'],
+			['comment_type', '4', '<td>comment_type&nbsp;</td>', '', 'default', 'sender'],
+			['hook_type', '4', '<td>hook&nbsp;</td>', '', 'default', 'sender'],
+			['is_greylisted', '4', '<td>grey_list_stop&nbsp;</td>', '', 'default', 'details'],
+			['is_mobile_ua', '4', '<td>is_mobile_UA&nbsp;</td>', '', 'default', 'details'],
+			['links_detected', '4', '<td>links&nbsp;</td>', '', 'default', 'details'],
+			['allowed_by_pl', '4', '<td>private_list_allow&nbsp;</td>', '', 'default', 'details'],
+			['denied_by_pl', '4', '<td>private_list_deny&nbsp;</td>', '', 'default', 'details'],
+			['pl_has_records', '4', '<td>private_list_detected&nbsp;</td>', '', 'default', 'details'],
+			['is_allowed', '4', '<td>allow&nbsp;</td>', '', 'default', 'response'],
+			['method_name', '4', '<td>method_name&nbsp;</td>', '', 'default', 'details']
+		];
 
-    let length = (values.length); //длина массива данных для поиска определена
+		let length = (values.length); //длина массива данных для поиска определена
 
-    return [values, length]
+		return [values, length]
 
 
-  }// ДАННЫЕ!! Установка данных для поиска
+	}// ДАННЫЕ!! Установка данных для поиска
 
-  construct_details_block_html() { //конструирует блоки основываясь на Section ID из
+	construct_details_block_html() { //конструирует блоки основываясь на Section ID из
 
-    let ar = [];
+		let ar = [];
 
-    for (let j = 0; j < detail_array_length; j++) {
-      ar.push(parseInt(this.details[j].block_id));
-    }
+		for (let j = 0; j < detail_array_length; j++) {
+			ar.push(parseInt(this.details[j].block_id));
+		}
 
-    let number_of_blocks = Math.max.apply(null, ar) + 1; //колчество блоков определено
+		let number_of_blocks = Math.max.apply(null, ar) + 1; //колчество блоков определено
 
-    for (let block_id = 0; block_id !== number_of_blocks; block_id++) {
+		for (let block_id = 0; block_id !== number_of_blocks; block_id++) {
 
-      html_add_tag_to_window('details_table-tbody', 'beforeend', ('<tr id="details_tier_block_' + block_id + '">SECTION ' + block_id + '</tr>'));
+			html_add_tag_to_window('details_table-tbody', 'beforeend', ('<tr id="details_tier_block_' + block_id + '">SECTION ' + block_id + '</tr>'));
 
-      for (let i = 0; i < detail_array_length - 1; i++) { //добавление строк
+			for (let i = 0; i < detail_array_length - 1; i++) { //добавление строк
 
-        if (stringcounter <= i) { //хуй знает как это работает и почему без этого не работает
+				if (stringcounter <= i) { //хуй знает как это работает и почему без этого не работает
 
-          if (parseInt(this.details[stringcounter].block_id) === block_id) { // добавляем строки если block_id совпал
-            stringcounter++;
+					if (parseInt(this.details[stringcounter].block_id) === block_id) { // добавляем строки если block_id совпал
+						stringcounter++;
 
-            if (this.details[stringcounter].name !== 'ct_options') {
+						if (this.details[stringcounter].name !== 'ct_options') {
 
-              html_add_tag_to_window('details_table-tbody', 'beforeend', ('<tr id="details_tier_' + stringcounter + '"></tr>'));
+							html_add_tag_to_window('details_table-tbody', 'beforeend', ('<tr id="details_tier_' + stringcounter + '"></tr>'));
 
-              html_add_tag_to_window(('details_tier_' + stringcounter), 'beforeend', ('<td class="details-name">' + this.details[stringcounter].name + ':</td>'));
+							html_add_tag_to_window(('details_tier_' + stringcounter), 'beforeend', ('<td class="details-name">' + this.details[stringcounter].name + ':</td>'));
 
-              html_add_tag_to_window(('details_tier_' + stringcounter), 'beforeend', ('<td class="details-value">' + this.details[stringcounter].value + '</td>'));
+							html_add_tag_to_window(('details_tier_' + stringcounter), 'beforeend', ('<td class="details-value">' + this.details[stringcounter].value + '</td>'));
 
-            }
+						}
 
-          }
+					}
 
-        }
+				}
 
-      }
+			}
 
-    }
+		}
 
-  }//конструирует блоки основываясь на Section ID из set_details_signature_data
+	}// конструирует блоки Details основываясь на Section ID из set_details_signature_data
 
-  construct_options_block_html() { //конструирует блоки основываясь на Section ID из
+	construct_options_block_html() { // конструирует блок опций
 
-    stringcounter = 0;
+		stringcounter = 0;
 
-    html_add_tag_to_window('options_table-tbody', 'beforeend', ('<tr id="options_tier_block></tr>'));
+		html_add_tag_to_window('options_table-tbody', 'beforeend', ('<tr id="options_tier_block></tr>'));
 
-    for (let i = 0; i < this.options.length; i++) { //добавление строк
+		for (let i = 0; i < this.options.length; i++) { //добавление строк
 
-      if (stringcounter <= i) { //хуй знает как это работает и почему без этого не работает
+			if (stringcounter <= i) { //хуй знает как это работает и почему без этого не работает
 
-        html_add_tag_to_window('options_table-tbody', 'beforeend', ('<tr id="options_tier_' + stringcounter + '"></tr>'));
+				html_add_tag_to_window('options_table-tbody', 'beforeend', ('<tr id="options_tier_' + stringcounter + '"></tr>'));
 
-        html_add_tag_to_window(('options_tier_' + stringcounter), 'beforeend', ('<td class="options-name">' + this.options[stringcounter].name + ':</td>'));
+				html_add_tag_to_window(('options_tier_' + stringcounter), 'beforeend', ('<td class="options-name">' + this.options[stringcounter].name + ':</td>'));
 
-        html_add_tag_to_window(('options_tier_' + stringcounter), 'beforeend', ('<td class="options-value">' + this.options[stringcounter].value + '</td>'));
+				html_add_tag_to_window(('options_tier_' + stringcounter), 'beforeend', ('<td class="options-value">' + this.options[stringcounter].value + '</td>'));
 
-        stringcounter++;
-      }
+				stringcounter++;
+			}
 
-    }
+		}
 
-  }
-
+	} // конструирует блок опций
 
-  set_values_to_details_array() { // Внесение результатов поиcка values в массив объектов Details TODO Убрать нахуй
+	set_values_to_details_array() { // Внесение результатов поиcка values в массив объектов Details TODO Убрать нахуй
 
-    console.log('Функция заполнения values для маccива Details начала работать');
-    for (let i = 0; i < detail_array_length; i++) {
+		console.log('Функция заполнения values для маccива Details начала работать');
+		for (let i = 0; i < detail_array_length; i++) {
 
-      this.details[i].value = get_detail_value(this.details[i].section_id, this.details[i].signature);
+			this.details[i].value = get_detail_value(this.details[i].section_id, this.details[i].signature);
 
-    }
-    console.log('Функция заполнения values для маccива Details закончила работать');
+		}
+		console.log('Функция заполнения values для маccива Details закончила работать');
 
-  } // вносит результатов поиска values в массив объектов Details
+	} // вносит результатов поиска values в массив объектов Details
 
-  init_details_array() { //создаёт объекты Details в массиве (без values) на основе set_details_signature_data
+	init_details_array() { //создаёт объекты Details в массиве (без values) на основе set_details_signature_data
 
-    console.log('Создание массива Details началось');
+		console.log('Создание массива Details началось');
 
-    this.details = [];
+		this.details = [];
 
-    let values = this.set_details_signature_data()[0];
+		let values = this.set_details_signature_data()[0];
 
-    for (let i = 0; i < detail_array_length; i++) {
+		for (let i = 0; i < detail_array_length; i++) {
 
-      this.details.push(new Detail((values[i][0]), (values[i][1]), (values[i][2]), (values[i][3]), (values[i][4]), (values[i][5])));
+			this.details.push(new Detail((values[i][0]), (values[i][1]), (values[i][2]), (values[i][3]), (values[i][4]), (values[i][5])));
 
-    }
+		}
 
-    this.set_values_to_details_array();
+		this.set_values_to_details_array();
 
-    console.log('Создание массива Details закончено.');
+		console.log('Создание массива Details закончено.');
 
-  } 			//создаёт объекты Details в массиве (без values)
+	} 			//создаёт объекты Details в массиве (без values)
 
-  init_options_array() { 				//создаёт объекты Option в массиве ct.options
+	init_options_array() { 				//создаёт объекты Option в массиве ct.options
 
-    console.log('Началась инициация массива Options');
+		console.log('Началась инициация массива Options');
 
-    this.options = get_options_from_json(this.call_detail_value_by_name("ct_options"));
+		this.options = get_options_from_json(this.get_detail_value("ct_options"));
 
-    console.log('Закончена инициация массива Options');
+		console.log('Закончена инициация массива Options');
 
-  }			//создаёт объекты Option в массиве ct.options
+	}			//создаёт объекты Option в массиве ct.options
 
-  call_detail_value_by_name(name) { 	//вызывает значения value объекта Detail по имени
+	get_detail_value(name) { 	//вызывает значения value объекта Detail по имени
 
-    for (let i = 0; i < detail_array_length; i++) {
+		for (let i = 0; i < detail_array_length; i++) {
 
-      if (this.details[i].name === name) {
+			if (this.details[i].name === name) {
 
-        return this.details[i].value
-      }
+				return this.details[i].value
+			}
 
-    }
+		}
 
-  } //вызывает значения value объекта Detail по имени
+	} //вызывает значения value объекта Detail по имени
 
 }
 
 class Option {
 
-  constructor(
-      name,
-      value,
-      priority,
-  ) {
+	constructor(
+		name,
+		value,
+		priority,
+	) {
 
-    //Init class
-    this.name = name;
-    this.value = value;
-    this.priority = priority;
+		//Init class
+		this.name = name;
+		this.value = value;
+		this.priority = priority;
 
-  }
+	}
 
 }
 
-class Analysis{
+class Analysis {
 
-  constructor(
+	constructor(
 
-      options_default,
-      options_important,
-      details_normal_values
+		options_default,
+		options_important,
+		details_normal_values
 
-  ) {
+	) {
 
-    this.options_default = options_default;
-    this.details_normal_values = details_normal_values;
-  }
+		this.options_default = options_default;
+		this.details_normal_values = details_normal_values;
+
+	}
 
-  set_options_default() { 			//устанавлвает опций по умолчанию
+	set_options_default() { 			//устанавлвает опций по умолчанию
 
-    this.options_default = { // объект опций
-      wordpress: '',
-      drupal: '',
-      joomla: '',
+		this.options_default = { // объект опций
+			wordpress: '',
+			drupal: '',
+			joomla: '',
 
-    }
+		}
 
-    //берёт массив опций из JSON
+		//берёт массив опций из JSON
 
-    this.options_default.wordpress = get_options_from_json('{"spam_firewall":"1","sfw__anti_flood":"0","sfw__anti_flood__view_limit":"10","sfw__anti_crawler":"0","apikey":"pyme7anenuha","autoPubRevelantMess":"0","registrations_test":"1","comments_test":"1","contact_forms_test":"1","general_contact_forms_test":"1","wc_checkout_test":"1","wc_register_from_order":"1","search_test":"1","check_external":"0","check_external__capture_buffer":"0","check_internal":"0","disable_comments__all":"0","disable_comments__posts":"0","disable_comments__pages":"0","disable_comments__media":"0","bp_private_messages":"1","check_comments_number":"1","remove_old_spam":"0","remove_comments_links":"0","show_check_links":"1","manage_comments_on_public_page":"0","protect_logged_in":"1","use_ajax":"1","use_static_js_key":"-1","general_postdata_test":"0","set_cookies":"1","set_cookies__sessions":"0","ssl_on":"0","use_buitin_http_api":"1","exclusions__urls":"","exclusions__urls__use_regexp":"0","exclusions__fields":"","exclusions__fields__use_regexp":"0","exclusions__roles":["Administrator"],"show_adminbar":"1","all_time_counter":"0","daily_counter":"0","sfw_counter":"0","user_token":"","collect_details":"0","send_connection_reports":"0","async_js":"0","debug_ajax":"0","gdpr_enabled":"0","gdpr_text":"","store_urls":"1","store_urls__sessions":"1","comment_notify":"1","comment_notify__roles":[],"complete_deactivation":"0","dashboard_widget__show":"1","allow_custom_key":"0","allow_custom_settings":"0","white_label":"0","white_label__hoster_key":"","white_label__plugin_name":"","use_settings_template":"0","use_settings_template_apply_for_new":"0","use_settings_template_apply_for_current":"0","use_settings_template_apply_for_current_list_sites":""}');
+		this.options_default.wordpress = get_options_from_json('{"spam_firewall":"1","sfw__anti_flood":"0","sfw__anti_flood__view_limit":"10","sfw__anti_crawler":"0","apikey":"pyme7anenuha","autoPubRevelantMess":"0","registrations_test":"1","comments_test":"1","contact_forms_test":"1","general_contact_forms_test":"1","wc_checkout_test":"1","wc_register_from_order":"1","search_test":"1","check_external":"0","check_external__capture_buffer":"0","check_internal":"0","disable_comments__all":"0","disable_comments__posts":"0","disable_comments__pages":"0","disable_comments__media":"0","bp_private_messages":"1","check_comments_number":"1","remove_old_spam":"0","remove_comments_links":"0","show_check_links":"1","manage_comments_on_public_page":"0","protect_logged_in":"1","use_ajax":"1","use_static_js_key":"-1","general_postdata_test":"0","set_cookies":"1","set_cookies__sessions":"0","ssl_on":"0","use_buitin_http_api":"1","exclusions__urls":"","exclusions__urls__use_regexp":"0","exclusions__fields":"","exclusions__fields__use_regexp":"0","exclusions__roles":["Administrator"],"show_adminbar":"1","all_time_counter":"0","daily_counter":"0","sfw_counter":"0","user_token":"","collect_details":"0","send_connection_reports":"0","async_js":"0","debug_ajax":"0","gdpr_enabled":"0","gdpr_text":"","store_urls":"1","store_urls__sessions":"1","comment_notify":"1","comment_notify__roles":[],"complete_deactivation":"0","dashboard_widget__show":"1","allow_custom_key":"0","allow_custom_settings":"0","white_label":"0","white_label__hoster_key":"","white_label__plugin_name":"","use_settings_template":"0","use_settings_template_apply_for_new":"0","use_settings_template_apply_for_current":"0","use_settings_template_apply_for_current_list_sites":""}');
 
-  }
+	}
 
-  set_details_normal_values(){
+	set_details_normal_values() {
 
-  }
+	}
 
-  check_options_comparison(def_options_agent){
+	check_options_comparison(def_options_agent) {
 
-    let array = [];
+		let array = [];
 
-    if (def_options_agent.length === ct.options.length ){
+		if (def_options_agent.length === ct.options.length) {
 
-      for (let i=0; i<=def_options_agent.length - 1; i++){
+			for (let i = 0; i <= def_options_agent.length - 1; i++) {
 
-        let x = def_options_agent[i].value.toString()
+				let x = def_options_agent[i].value.toString()
 
-        let y = ct.options[i].value.toString();
+				let y = ct.options[i].value.toString();
 
-        if (x !== y){
+				if (x !== y) {
 
-          console.log('Изменены опции: '
-              + def_options_agent[i].name + ' :'
-              + x + ' '
-              + y);
+					console.log('Изменены опции: '
+						+ def_options_agent[i].name + ' :'
+						+ x + ' '
+						+ y);
 
-          array.push(i);
+					array.push(i);
 
-        }
+				}
 
-      }
+			}
 
-    }	else alert('Количество опций не совпало. Проверь агента. def_options_agent.length = ' + def_options_agent.length + 'ct.options.length = '+ ct.options.length);
+		} else alert('Количество опций не совпало. Проверь агента. def_options_agent.length = ' + def_options_agent.length + 'ct.options.length = ' + ct.options.length);
 
-    array.forEach(function(value){
+		array.forEach(function (value) {
 
-      let tr_name = ('options_tier_'+value);
+			let tr_name = ('options_tier_' + value);
 
-      layout_window.document.getElementById(tr_name).style.color = '#FF0000';
+			layout_window.document.getElementById(tr_name).style.color = '#FF0000';
 
-    })
+		})
 
-    layout_window.document.getElementById('options_header').innerHTML += ('<a style = "color: red"> (' + array.length + ')</a>');
+		layout_window.document.getElementById('options_header').innerHTML += ('<a style = "color: red"> (' + array.length + ')</a>');
 
-    return array;
+		return array;
 
-  }
+	}
 
-  check_options(){
+	check_options() { // проверяет опции по умолчанию, вызывая check_options_comparison для кейсов по агенту
 
-    console.log('Проверка опций по умолчанию началась...');
+		console.log('Проверка опций по умолчанию началась...');
 
-    switch (ct.status.agent){		// Выбор параметров по умолчанию по агенту
+		switch (ct.status.agent) {		// Выбор параметров по умолчанию по агенту
 
-      case 'wordpress-51471': {
+			case 'wordpress-51471': {
 
-        this.check_options_comparison(this.options_default.wordpress);
+				this.check_options_comparison(this.options_default.wordpress);
 
-      }
+			}
 
-      case 'wordpress-5148': {
+			case 'wordpress-5148': {
 
-        this.check_options_comparison(this.options_default.wordpress);
+				this.check_options_comparison(this.options_default.wordpress);
 
-      }
+			}
 
-    }
+		}
 
-    console.log('Проверка опций по умолчанию завершена.');
+		console.log('Проверка опций по умолчанию завершена.');
 
 
-  }
+	}
 
-  check_details(){
+	check_details() {
 
-  }
+	}
 
 
 }
@@ -499,7 +505,7 @@
 
 ct.analysis = new Analysis();
 
-detail_array_length = ct.set_details_signature_data()[1]; // объявляем длину массива объектов Details
+detail_array_length = ct.set_details_signature_data()[1]; // объявляем длину массива объектов Details //todo Чё эта? Надо унести длину массива Details из отдельной переменной
 
 
 //==== DECLARE BLOCK END
@@ -507,144 +513,142 @@
 //==== NON CLASS FUNCTIONS
 
 
-
 function html_get_section(section_name) { //извлекает html секции по Details.section_id
 
-  let signature = `<div class="section_block" data-section="` + section_name + `">`; // подпись берём из параметра функции
+	let signature = `<div class="section_block" data-section="` + section_name + `">`; // подпись берём из параметра функции
 
-  let start_sec = extracted_html.indexOf(signature);// начальная позиция определена
+	let start_sec = extracted_html.indexOf(signature);// начальная позиция определена
 
-  let end_sec = null;
+	let end_sec = null;
 
-  for (let i = start_sec + 1; i <= extracted_html.length; i++) {
+	for (let i = start_sec + 1; i <= extracted_html.length; i++) {
 
-    if ((extracted_html.slice(i, i + 40)) === '<div class="section_block" data-section=') {
+		if ((extracted_html.slice(i, i + 40)) === '<div class="section_block" data-section=') {
 
-      end_sec = i; // конечная позиция определена
+			end_sec = i; // конечная позиция определена
 
-      break;
+			break;
 
-    }
+		}
 
-  }
+	}
 
-  return extracted_html.slice(start_sec, end_sec);
+	return extracted_html.slice(start_sec, end_sec);
 
 } 	//извлекает html секции по Details.section_id
 
 function get_detail_value(section_id, signature) { //ищет Detail.value по Detail.signature внутри секции Details.section_id
 
-  let html_section = html_get_section(section_id); // секция определена
+	let html_section = html_get_section(section_id); // секция определена
 
-  let start_value_position;
+	let start_value_position;
 
-  let end_value_position;
+	let end_value_position;
 
-  if (html_section.includes(signature)) { // 11- это символы <td>:&nbsp;
+	if (html_section.includes(signature)) { // 11- это символы <td>:&nbsp;
 
-    start_value_position = (html_section.indexOf(signature) + signature.length + 11); //стартовая позиция для искомого значения
+		start_value_position = (html_section.indexOf(signature) + signature.length + 11); //стартовая позиция для искомого значения
 
-  } else {
+	} else {
 
-    return 'Вхождение не найдено';
+		return 'Вхождение не найдено';
 
-  }
+	}
 
-  for (let i = start_value_position; i <= html_section.length; i++) {
+	for (let i = start_value_position; i <= html_section.length; i++) {
 
-    if ((html_section.slice(i, i + 5)) === '</td>') {
-      end_value_position = i; //конечная позиция определена
-      break;
-    }
-  }
+		if ((html_section.slice(i, i + 5)) === '</td>') {
+			end_value_position = i; //конечная позиция определена
+			break;
+		}
+	}
 
-  return html_section.slice(start_value_position, end_value_position);
+	return html_section.slice(start_value_position, end_value_position);
 
 } 	//ищет Detail.value по Detail.signature внутри секции Details.section_id
 
 function html_add_tag_to_window(position_tag_id, align, html) {
-  //console.log('TAG COUNSTRUCTS... POS ' + position_tag_id + ' ALGN ' + align + ' HTML ' + html);
-  layout_window.document.getElementById(position_tag_id).insertAdjacentHTML(align, html);
+	//console.log('TAG COUNSTRUCTS... POS ' + position_tag_id + ' ALGN ' + align + ' HTML ' + html);
+	layout_window.document.getElementById(position_tag_id).insertAdjacentHTML(align, html);
 
 } //добавляет тег
 
-function get_options_from_json (json){ //возвращает массив объектов OPTION из JSON настроек
+function get_options_from_json(json) { //возвращает массив объектов OPTION из JSON настроек
 
-  let jsonobj = JSON.parse(json);
+	let jsonobj = JSON.parse(json);
 
-  let temp = [];
+	let temp = [];
 
-  $.each(jsonobj, function (name, value) {
+	$.each(jsonobj, function (name, value) {
 
-    temp.push(new Option(name, value, 0))
+		temp.push(new Option(name, value, 0))
 
-  })
+	})
 
-  return temp;
+	return temp;
 
 } //извлекает массив опций из JSON
 
 function call_layout_window() { //вызов окна запроса
 
 
-  window.layout_window = window.open( // собственно основное окно
-      'prefilled.html',
-      'LARQA window',
-      'left=50, ' +
-      'top=50, ' +
-      'width=1200, ' +
-      'height=800, ' +
-      'status=no, ' +
-      'toolbar=no, ' +
-      'location=no');
+	window.layout_window = window.open( // собственно основное окно
+		'prefilled.html',
+		'LARQA window',
+		'left=50, ' +
+		'top=50, ' +
+		'width=1200, ' +
+		'height=800, ' +
+		'status=no, ' +
+		'toolbar=no, ' +
+		'location=no');
 
-  layout_window.onload = function () { // действия после загрузки окна
+	layout_window.onload = function () { // действия после загрузки окна
 
-    ct.init_details_array();
+		ct.init_details_array();
 
-    ct.init_options_array();
+		ct.init_options_array();
 
-    ct.status.init();
+		ct.status.init();
 
-    ct.analysis.set_options_default();
+		ct.analysis.set_options_default();
 
-    window.stringcounter = 0; //счётчик строк в таблице
+		window.stringcounter = 0; //счётчик строк в таблице
 
-    ct.construct_details_block_html(); //собираю таблицу details
+		ct.construct_details_block_html(); //собираю таблицу details
 
-    ct.construct_options_block_html(); // собираю таблицу options
+		ct.construct_options_block_html(); // собираю таблицу options
 
-    ct.analysis.check_options();
+		ct.analysis.check_options();
 
-  }//вызов окна запроса
+	}//вызов окна запроса
 
 } //вызов рабочего окна
 
 chrome.runtime.onMessage.addListener(function (message) {
-  switch (message.command) {
-    case "pageHtml":
+	switch (message.command) {
+		case "pageHtml":
 
-      console.log('Бэкграунд начал работу..');
+			console.log('Бэкграунд начал работу..');
 
-      console.log(message.html)
+			console.log(message.html)
 
-      extracted_html = message.html;
+			extracted_html = message.html;
 
-      call_layout_window();
+			call_layout_window();
 
-      console.log('Бэкграунд закончил работу.');
+			console.log('Бэкграунд закончил работу.');
 
 
-      break;
-  
-    default:
-      break;
-  }
+			break;
+
+		default:
+			break;
+	}
 })
 
-function logHtmlCode(tab)
-{
-  chrome.tabs.executeScript(tab.id, { file: "send-page-code.js" });
+function logHtmlCode(tab) {
+	chrome.tabs.executeScript(tab.id, {file: "send-page-code.js"});
 }
 
 chrome.browserAction.onClicked.addListener(logHtmlCode);
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AnalysisUIOptions\">\r\n    <option name=\"SCOPE_TYPE\" value=\"10\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"511d5316-a028-4c31-b999-692524fa7b16\" name=\"Default Changelist\" comment=\"\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/LARQA/popup.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/LARQA/popup.js\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/LARQA/prefilled.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/LARQA/prefilled.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/LARQA/setouterhtml.js\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/LARQA/setouterhtml.js\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ComposerSettings\">\r\n    <execution />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"HTML File\" />\r\n        <option value=\"JavaScript File\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <favorite-branches>\r\n      <branch-storage>\r\n        <map>\r\n          <entry type=\"REMOTE\">\r\n            <value>\r\n              <list>\r\n                <branch-info repo=\"$PROJECT_DIR$\" source=\"origin/dev\" />\r\n              </list>\r\n            </value>\r\n          </entry>\r\n        </map>\r\n      </branch-storage>\r\n    </favorite-branches>\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"dev\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"ProblemsViewState\">\r\n    <hideBySeverity>\r\n      <option value=\"15\" />\r\n    </hideBySeverity>\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"1jdWdQ6MJIFn3UlOn18QftbyzfG\" />\r\n  <component name=\"ProjectLevelVcsManager\">\r\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"ASKED_ADD_EXTERNAL_FILES\" value=\"true\" />\r\n    <property name=\"DefaultHtmlFileTemplate\" value=\"HTML File\" />\r\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\r\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\r\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\r\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$\" />\r\n    <property name=\"node.js.detected.package.eslint\" value=\"true\" />\r\n    <property name=\"node.js.detected.package.tslint\" value=\"true\" />\r\n    <property name=\"node.js.path.for.package.eslint\" value=\"project\" />\r\n    <property name=\"node.js.path.for.package.tslint\" value=\"project\" />\r\n    <property name=\"node.js.selected.package.eslint\" value=\"(autodetect)\" />\r\n    <property name=\"node.js.selected.package.tslint\" value=\"(autodetect)\" />\r\n    <property name=\"run.code.analysis.last.selected.profile\" value=\"pProject Default\" />\r\n    <property name=\"settings.editor.selected.configurable\" value=\"preferences.pluginManager\" />\r\n    <property name=\"vue.rearranger.settings.migration\" value=\"true\" />\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task id=\"Default\" summary=\"Default task\">\r\n      <branch name=\"dev\" repository=\"D:\\Megadisk\\larqa\\gitcopy\" original=\"true\" />\r\n      <changelist id=\"511d5316-a028-4c31-b999-692524fa7b16\" name=\"Default Changelist\" comment=\"\" />\r\n      <created>1604134535335</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1604254471446</updated>\r\n      <workItem from=\"1604134536468\" duration=\"25593000\" />\r\n      <workItem from=\"1604213951006\" duration=\"27407000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"transfer 6 months changes to GIT\">\r\n      <created>1604134682357</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1604134682357</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"transfer 6 months changes to GIT\">\r\n      <created>1604139553436</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1604139553436</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"removed OLD folder\">\r\n      <created>1604140834694</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1604140834694</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"- перенёс конструктор блоков HTML в класс Ct_request&#10;- рефакторинг некоторых названий и переменных&#10;- избавился от setdata.js и layout .js\">\r\n      <created>1604172362109</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1604172362109</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"-мигрировал всё на модальное окно из расширения&#10;- убрал мусор\">\r\n      <created>1604252828443</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1604252828443</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"- версировал файлы\">\r\n      <created>1604252870133</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1604252870133</updated>\r\n    </task>\r\n    <task active=\"true\" id=\"LOCAL-00007\" summary=\"CURRENT\">\r\n      <branch name=\"dev\" repository=\"D:\\Megadisk\\larqa\\gitcopy\" />\r\n      <changelist id=\"511d5316-a028-4c31-b999-692524fa7b16\" name=\"Default Changelist\" comment=\"\" />\r\n      <created>1604254444639</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1604254471446</updated>\r\n      <workItem from=\"1604254472083\" duration=\"347000\" />\r\n      <workItem from=\"1604306045214\" duration=\"5698000\" />\r\n      <workItem from=\"1604377790985\" duration=\"7148000\" />\r\n      <workItem from=\"1605287059931\" duration=\"13710000\" />\r\n      <workItem from=\"1605372597603\" duration=\"332000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"- передалал туду листы\">\r\n      <created>1604254763003</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1604254763003</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"- вынес тестовый outerHTML во внешний файл&#10;- убрал лишнее логирование, почистил код\">\r\n      <created>1605195953215</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1605195953215</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"10\" />\r\n    <option name=\"createChangelist\" value=\"false\" />\r\n    <option name=\"createBranch\" value=\"false\" />\r\n    <option name=\"useBranch\" value=\"true\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n    <option name=\"oldMeFiltersMigrated\" value=\"true\" />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"transfer 6 months changes to GIT\" />\r\n    <MESSAGE value=\"removed OLD folder\" />\r\n    <MESSAGE value=\"- перенёс конструктор блоков HTML в класс Ct_request&#10;- рефакторинг некоторых названий и переменных\" />\r\n    <MESSAGE value=\"- перенёс конструктор блоков HTML в класс Ct_request&#10;- рефакторинг некоторых названий и переменных&#10;- избавился от setdata.js и layout .js\" />\r\n    <MESSAGE value=\"-мигрировал всё на модальное окно из расширения&#10;- убрал мусор\" />\r\n    <MESSAGE value=\"- версировал файлы\" />\r\n    <MESSAGE value=\"- передалал туду листы\" />\r\n    <MESSAGE value=\"- вынес тестовый outerHTML во внешний файл&#10;- убрал лишнее логирование, почистил код\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"- вынес тестовый outerHTML во внешний файл&#10;- убрал лишнее логирование, почистил код\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 3a75dfc094f3b20925c3bb61d691c4d9e68d7dd1)
+++ b/.idea/workspace.xml	(date 1605522045369)
@@ -6,9 +6,8 @@
   <component name="ChangeListManager">
     <list default="true" id="511d5316-a028-4c31-b999-692524fa7b16" name="Default Changelist" comment="">
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/LARQA/popup.js" beforeDir="false" afterPath="$PROJECT_DIR$/LARQA/popup.js" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/LARQA/prefilled.html" beforeDir="false" afterPath="$PROJECT_DIR$/LARQA/prefilled.html" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/LARQA/setouterhtml.js" beforeDir="false" afterPath="$PROJECT_DIR$/LARQA/setouterhtml.js" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/LARQA/background.js" beforeDir="false" afterPath="$PROJECT_DIR$/LARQA/background.js" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/LARQA/manifest.json" beforeDir="false" afterPath="$PROJECT_DIR$/LARQA/manifest.json" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -74,7 +73,7 @@
     <property name="node.js.selected.package.eslint" value="(autodetect)" />
     <property name="node.js.selected.package.tslint" value="(autodetect)" />
     <property name="run.code.analysis.last.selected.profile" value="pProject Default" />
-    <property name="settings.editor.selected.configurable" value="preferences.pluginManager" />
+    <property name="settings.editor.selected.configurable" value="preferences.sourceCode.JavaScript" />
     <property name="vue.rearranger.settings.migration" value="true" />
   </component>
   <component name="SpellCheckerSettings" RuntimeDictionaries="0" Folders="0" CustomDictionaries="0" DefaultDictionary="application-level" UseSingleDictionary="true" transferred="true" />
@@ -144,6 +143,7 @@
       <workItem from="1604377790985" duration="7148000" />
       <workItem from="1605287059931" duration="13710000" />
       <workItem from="1605372597603" duration="332000" />
+      <workItem from="1605463183301" duration="3481000" />
     </task>
     <task id="LOCAL-00008" summary="- передалал туду листы">
       <created>1604254763003</created>
@@ -159,7 +159,14 @@
       <option name="project" value="LOCAL" />
       <updated>1605195953215</updated>
     </task>
-    <option name="localTasksCounter" value="10" />
+    <task id="LOCAL-00010" summary="- встроил свой код в чужое решение по парсингу HTML со страницы&#10;- теперь окно работает прямо с кнопки расширения">
+      <created>1605463275719</created>
+      <option name="number" value="00010" />
+      <option name="presentableId" value="LOCAL-00010" />
+      <option name="project" value="LOCAL" />
+      <updated>1605463275719</updated>
+    </task>
+    <option name="localTasksCounter" value="11" />
     <option name="createChangelist" value="false" />
     <option name="createBranch" value="false" />
     <option name="useBranch" value="true" />
@@ -189,6 +196,7 @@
     <MESSAGE value="- версировал файлы" />
     <MESSAGE value="- передалал туду листы" />
     <MESSAGE value="- вынес тестовый outerHTML во внешний файл&#10;- убрал лишнее логирование, почистил код" />
-    <option name="LAST_COMMIT_MESSAGE" value="- вынес тестовый outerHTML во внешний файл&#10;- убрал лишнее логирование, почистил код" />
+    <MESSAGE value="- встроил свой код в чужое решение по парсингу HTML со страницы&#10;- теперь окно работает прямо с кнопки расширения" />
+    <option name="LAST_COMMIT_MESSAGE" value="- встроил свой код в чужое решение по парсингу HTML со страницы&#10;- теперь окно работает прямо с кнопки расширения" />
   </component>
 </project>
\ No newline at end of file
